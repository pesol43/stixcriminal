<!DOCTYPE html>
<html lang="ru">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Изучение стихотворения</title>
    <style>
       body {
    font-family: 'Georgia', serif;
    background: linear-gradient(135deg, #ffffff, #ffffff, #ffffff, #2f00ff, #2f00ff, #2f00ff, #ff0000, #ff0000, #ff0000); /* Многоцветный градиент */
    background-size: 400% 400%; /* Увеличиваем размер фона для анимации */
    color: #ffffff;
    text-align: center;
    padding: 50px;
    margin: 0;
    height: 100vh;
    display: flex;
    justify-content: center;
    align-items: center;
    flex-direction: column;
    animation: gradientBG 50s ease infinite; /* Анимация фона */
}

@keyframes gradientBG {
    0% {
        background-position: 0% 50%; /* Начальная позиция градиента */
    }
    50% {
        background-position: 100% 50%; /* Промежуточная позиция градиента */
    }
    100% {
        background-position: 0% 50%; /* Конечная позиция градиента */
    }
}
        h1 {
            font-size: 1em;
            text-shadow: 2px 2px 4px rgba(0, 0, 0, 0.5);
            margin-bottom: 90px;
        }
        .poem {
            font-style: italic;
            font-size: 1.5em;
            line-height: 1.6;
            text-shadow: 1px 1px 2px rgba(0, 0, 0, 0.5);
            max-width: 600px;
            margin: 20px auto;
        }
        .author {
            font-weight: bold;
            margin-top: 20px;
            font-size: 2em;
            text-shadow: 1px 1px 2px rgba(0, 0, 0, 0.5);
        }
        button {
            padding: 10px 20px;
            font-size: 2em;
            margin-top: 20px;
            cursor: pointer;
            background-color: #0288d1;
            color: #ffffff;
            border: none;
            border-radius: 5px;
        }
        .input-field {
            margin-top: 20px;
            padding: 10px;
            font-size: 2em;
            width: 300px;
        }
        .timer {
            font-size: 1.3em;
            margin-top: 20px;
        }
        .hidden {
            display: none;
        }
    </style>
</head>
<body>
    <h1>Прощай, немытая Россия</h1>
    <div class="poem hidden" id="poem"></div>
    <div class="author" id="author">— Михаил Лермонтов</div>
    <button id="startButton">Начать учить</button>
    
    <div class="timer hidden" id="timer"></div>

    <div class="hidden" id="inputSection">
        <input type="text" class="input-field" id="userInput" placeholder="Введите строку...">
        <button id="nextButton">Дальше</button>
    </div>

    <script>
        const poemLines = [
            "Прощай немытая Россия",
            "Страна рабов страна господ",
            "И вы мундиры голубые",
            "И ты им преданный народ",
            "Быть может за стеной Кавказа",
            "Сокроюсь от твоих пашей",
            "От их всевидящего глаза",
            "От их всеслышащих ушей"
        ];

        let currentLine = 0;
        let timer;

        document.getElementById('startButton').addEventListener('click', startLearning);
        document.getElementById('nextButton').addEventListener('click', checkInput);

        function startLearning() {
            document.getElementById('startButton').classList.add('hidden');
            document.getElementById('author').classList.add('hidden'); // Скрываем автора
            showNextLine();
        }

        function showNextLine() {
            if (currentLine >= poemLines.length) {
                alert('Вы выучили всё стихотворение!');
                return;
            }

            const poemElement = document.getElementById('poem');
            const timerElement = document.getElementById('timer');
            const inputSection = document.getElementById('inputSection');

            poemElement.textContent = poemLines[currentLine];
            poemElement.classList.remove('hidden');
            timerElement.classList.remove('hidden');

            startTimer(20, () => {
                // После таймера скрываем строку и таймер
                poemElement.classList.add('hidden');
                timerElement.classList.add('hidden');

                // Показываем поле ввода
                inputSection.classList.remove('hidden');
                document.getElementById('userInput').focus();
            });
        }
function startTimer(seconds, callback) {
            let timeLeft = seconds;
            const timerElement = document.getElementById('timer');
            timerElement.textContent = `Осталось времени: ${timeLeft} сек.`;

            timer = setInterval(() => {
                timeLeft--;
                timerElement.textContent = `Осталось времени: ${timeLeft} сек.`;

                if (timeLeft <= 0) {
                    clearInterval(timer);
                    callback();
                }
            }, 1000);
        }

        function checkInput() {
            const userText = document.getElementById('userInput').value.trim();
            if (userText === poemLines[currentLine]) {
                currentLine++;
                document.getElementById('userInput').value = '';
                document.getElementById('inputSection').classList.add('hidden');

                if (currentLine < poemLines.length) {
                    showNextLine();
                } else {
                    alert('Вы выучили всё стихотворение!');
                }
            } else {
                alert('Неверно! Попробуйте ещё раз.');
            }
        }
    </script>
</body>
</html>